# Generated automatically from Makefile.in by configure.
#
# Makefile for WoT Mud 
# 

# It's a bad idea to edit Makefile if you don't know what you're doing.
# Makefile is automatically generated by ./configure from Makefile.in.
# If you want to change something, most likely you'll want to edit
# Makefile.in and change it there, then run ./configure.

CC      = gcc
PROF    = -O -ggdb
CRYPT   = -lcrypt
#DEBUG  = -lefence
DEBUG   =
LFLAGS  = $(PROF) $(CRYPT) $(DEBUG) -lz -ldl -rdynamic
CFLAGS  = -Wall $(PROF) -D_XOPEN_SOURCE 

# BINDIR is the directory you wish WoT to be placed if you wish to use
# make install.  
BINDIR = .

# DEFAULT_FILE_DIR is the path to WoTMud files. 
# DEFAULT_FILE_DIR = @HOME@
DEFAULT_FILE_DIR = $(HOME)

#########################################
# You shouldn't need to change anything #
# below this line.                      #
#########################################

OFILES =  main.o areas.o act_comm.o act_info.o act_move.o act_obj.o act_wiz.o \
          websvr.o nanny.o const.o comm.o effects.o fight_h.o handler.o       \
          interp.o lookup.o weave_h.o weaves.o recycle.o save.o special.o     \
          tables.o gain.o update_h.o mob_cmds.o mob_prog.o combat.o names.o   \
          bit_h.o skill_h.o affect_h.o hunt.o string.o sort.o signals.o       \
          board.o ban.o music.o ansi.o economy.o mount.o sedit.o mudftp.o     \
          data_h.o dharvest.o auction.o nations.o guild.o gdskill.o skills.o  \
          rent.o olc.o olc_group.o olc_mpcode.o olc_help.o olc_act.o alias.o  \
          olc_save.o olc_guild.o olc_skill.o olc_cmds.o sound_h.o mccp.o      \
          manuevers.o WebServer.o c++wrapper.o

all: install

WoT:  $(OFILES)
	@echo "-*-- Linking..."
	@$(CC) $(LFLAGS) -o wot $(OFILES) 

Makefile: Makefile.in
	@echo "You need to run ./configure first; then try make."
	@exit 1

install: WoT
	@./install-sh $(BINDIR) $(DEFAULT_FILE_DIR)

# Autocompile all .c files into .o files using this rule:
.c.o: merc.h
	@echo "Compiling $<..."
	@$(CC) -c $(CFLAGS)  $<

clean:
	@echo "Cleaning..."
	@rm -f *.o wot core *~ config.status config.cache config.log 

